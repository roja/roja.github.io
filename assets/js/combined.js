/*!
* FitVids 1.0
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function(a){a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var f=document.createElement("div"),d=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],e="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";f.className="fit-vids-style";f.id="fit-vids-style";f.style.display="none";f.innerHTML=e;d.parentNode.insertBefore(f,d)}if(b){a.extend(c,b)}return this.each(function(){var g=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(c.customSelector){g.push(c.customSelector)}var h=a(this).find(g.join(","));h=h.not("object object");h.each(function(){var m=a(this);if(this.tagName.toLowerCase()==="embed"&&m.parent("object").length||m.parent(".fluid-width-video-wrapper").length){return}var i=(this.tagName.toLowerCase()==="object"||(m.attr("height")&&!isNaN(parseInt(m.attr("height"),10))))?parseInt(m.attr("height"),10):m.height(),j=!isNaN(parseInt(m.attr("width"),10))?parseInt(m.attr("width"),10):m.width(),k=i/j;if(!m.attr("id")){var l="fitvid"+Math.floor(Math.random()*999999);m.attr("id",l)}m.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(k*100)+"%");m.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);
/*! Magnific Popup - v0.9.3 - 2013-07-16
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2013 Dmitry Semenov; */
;(function(E){var A="Close",J="BeforeClose",x="AfterClose",P="BeforeAppend",f="MarkupParse",l="Open",h="Change",F="mfp",d="."+F,K="mfp-ready",M="mfp-removing",e="mfp-prevent-close";var U,B=function(){},L=!!(window.jQuery),D,a=E(window),z,C,H,b,N;var j=function(X,Y){U.ev.on(F+X+d,Y)},o=function(ab,Y,Z,X){var aa=document.createElement("div");aa.className="mfp-"+ab;if(Z){aa.innerHTML=Z}if(!X){aa=E(aa);if(Y){aa.appendTo(Y)}}else{if(Y){Y.appendChild(aa)}}return aa},R=function(Y,X){U.ev.triggerHandler(F+Y,X);if(U.st.callbacks){Y=Y.charAt(0).toLowerCase()+Y.slice(1);if(U.st.callbacks[Y]){U.st.callbacks[Y].apply(U,E.isArray(X)?X:[X])}}},i=function(){(U.st.focus?U.content.find(U.st.focus).eq(0):U.wrap).trigger("focus")},G=function(X){if(X!==N||!U.currTemplate.closeBtn){U.currTemplate.closeBtn=E(U.st.closeMarkup.replace("%title%",U.st.tClose));N=X}return U.currTemplate.closeBtn},u=function(){if(!E.magnificPopup.instance){U=new B();U.init();E.magnificPopup.instance=U}},p=function(Z){if(E(Z).hasClass(e)){return}var X=U.st.closeOnContentClick;var Y=U.st.closeOnBgClick;if(X&&Y){return true}else{if(!U.content||E(Z).hasClass("mfp-close")||(U.preloader&&Z===U.preloader[0])){return true}if((Z!==U.content[0]&&!E.contains(U.content[0],Z))){if(Y){if(E.contains(document,Z)){return true}}}else{if(X){return true}}}return false},W=function(){var Y=document.createElement("p").style,X=["ms","O","Moz","Webkit"];if(Y.transition!==undefined){return true}while(X.length){if(X.pop()+"Transition" in Y){return true}}return false};B.prototype={constructor:B,init:function(){var X=navigator.appVersion;U.isIE7=X.indexOf("MSIE 7.")!==-1;U.isIE8=X.indexOf("MSIE 8.")!==-1;U.isLowIE=U.isIE7||U.isIE8;U.isAndroid=(/android/gi).test(X);U.isIOS=(/iphone|ipad|ipod/gi).test(X);U.supportsTransition=W();U.probablyMobile=(U.isAndroid||U.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));z=E(document.body);C=E(document);U.popupsCache={}},open:function(ac){var ad;if(ac.isObj===false){U.items=ac.items.toArray();U.index=0;var ae=ac.items,af;for(ad=0;ad<ae.length;ad++){af=ae[ad];if(af.parsed){af=af.el[0]}if(af===ac.el[0]){U.index=ad;break}}}else{U.items=E.isArray(ac.items)?ac.items:[ac.items];U.index=ac.index||0}if(U.isOpen){U.updateItemHTML();return}U.types=[];b="";if(ac.mainEl&&ac.mainEl.length){U.ev=ac.mainEl.eq(0)}else{U.ev=C}if(ac.key){if(!U.popupsCache[ac.key]){U.popupsCache[ac.key]={}}U.currTemplate=U.popupsCache[ac.key]}else{U.currTemplate={}}U.st=E.extend(true,{},E.magnificPopup.defaults,ac);U.fixedContentPos=U.st.fixedContentPos==="auto"?!U.probablyMobile:U.st.fixedContentPos;if(U.st.modal){U.st.closeOnContentClick=false;U.st.closeOnBgClick=false;U.st.showCloseBtn=false;U.st.enableEscapeKey=false}if(!U.bgOverlay){U.bgOverlay=o("bg").on("click"+d,function(){U.close()});U.wrap=o("wrap").attr("tabindex",-1).on("click"+d,function(ah){if(p(ah.target)){U.close()}});U.container=o("container",U.wrap)}U.contentContainer=o("content");if(U.st.preloader){U.preloader=o("preloader",U.container,U.st.tLoading)}var ab=E.magnificPopup.modules;for(ad=0;ad<ab.length;ad++){var aa=ab[ad];aa=aa.charAt(0).toUpperCase()+aa.slice(1);U["init"+aa].call(U)}R("BeforeOpen");if(U.st.showCloseBtn){if(!U.st.closeBtnInside){U.wrap.append(G())}else{j(f,function(ak,ai,ah,aj){ah.close_replaceWith=G(aj.type)});b+=" mfp-close-btn-in"}}if(U.st.alignTop){b+=" mfp-align-top"}if(U.fixedContentPos){U.wrap.css({overflow:U.st.overflowY,overflowX:"hidden",overflowY:U.st.overflowY})}else{U.wrap.css({top:a.scrollTop(),position:"absolute"})}if(U.st.fixedBgPos===false||(U.st.fixedBgPos==="auto"&&!U.fixedContentPos)){U.bgOverlay.css({height:C.height(),position:"absolute"})}if(U.st.enableEscapeKey){C.on("keyup"+d,function(ah){if(ah.keyCode===27){U.close()}})}a.on("resize"+d,function(){U.updateSize()});if(!U.st.closeOnContentClick){b+=" mfp-auto-cursor"}if(b){U.wrap.addClass(b)}var X=U.wH=a.height();var Z={};if(U.fixedContentPos){if(U._hasScrollBar(X)){var ag=U._getScrollbarSize();if(ag){Z.paddingRight=ag}}}if(U.fixedContentPos){if(!U.isIE7){Z.overflow="hidden"}else{E("body, html").css("overflow","hidden")}}var Y=U.st.mainClass;if(U.isIE7){Y+=" mfp-ie7"}if(Y){U._addClassToMFP(Y)}U.updateItemHTML();R("BuildControls");E("html").css(Z);U.bgOverlay.add(U.wrap).prependTo(document.body);U._lastFocusedEl=document.activeElement;setTimeout(function(){if(U.content){U._addClassToMFP(K);i()}else{U.bgOverlay.addClass(K)}C.on("focusin"+d,function(ah){if(ah.target!==U.wrap[0]&&!E.contains(U.wrap[0],ah.target)){i();return false}})},16);U.isOpen=true;U.updateSize(X);R(l)},close:function(){if(!U.isOpen){return}R(J);U.isOpen=false;if(U.st.removalDelay&&!U.isLowIE&&U.supportsTransition){U._addClassToMFP(M);setTimeout(function(){U._close()},U.st.removalDelay)}else{U._close()}},_close:function(){R(A);var X=M+" "+K+" ";U.bgOverlay.detach();U.wrap.detach();U.container.empty();if(U.st.mainClass){X+=U.st.mainClass+" "}U._removeClassFromMFP(X);if(U.fixedContentPos){var Y={paddingRight:""};if(U.isIE7){E("body, html").css("overflow","")}else{Y.overflow=""}E("html").css(Y)}C.off("keyup"+d+" focusin"+d);U.ev.off(d);U.wrap.attr("class","mfp-wrap").removeAttr("style");U.bgOverlay.attr("class","mfp-bg");U.container.attr("class","mfp-container");if(U.st.showCloseBtn&&(!U.st.closeBtnInside||U.currTemplate[U.currItem.type]===true)){if(U.currTemplate.closeBtn){U.currTemplate.closeBtn.detach()}}if(U._lastFocusedEl){E(U._lastFocusedEl).trigger("focus")}U.currItem=null;U.content=null;U.currTemplate=null;U.prevHeight=0;R(x)},updateSize:function(Y){if(U.isIOS){var Z=document.documentElement.clientWidth/window.innerWidth;var X=window.innerHeight*Z;U.wrap.css("height",X);U.wH=X}else{U.wH=Y||a.height()}if(!U.fixedContentPos){U.wrap.css("height",U.wH)}R("Resize")},updateItemHTML:function(){var aa=U.items[U.index];U.contentContainer.detach();if(U.content){U.content.detach()}if(!aa.parsed){aa=U.parseEl(U.index)}var Z=aa.type;R("BeforeChange",[U.currItem?U.currItem.type:"",Z]);U.currItem=aa;if(!U.currTemplate[Z]){var Y=U.st[Z]?U.st[Z].markup:false;R("FirstMarkupParse",Y);if(Y){U.currTemplate[Z]=E(Y)}else{U.currTemplate[Z]=true}}if(H&&H!==aa.type){U.container.removeClass("mfp-"+H+"-holder")}var X=U["get"+Z.charAt(0).toUpperCase()+Z.slice(1)](aa,U.currTemplate[Z]);U.appendContent(X,Z);aa.preloaded=true;R(h,aa);H=aa.type;U.container.prepend(U.contentContainer);R("AfterChange")},appendContent:function(X,Y){U.content=X;if(X){if(U.st.showCloseBtn&&U.st.closeBtnInside&&U.currTemplate[Y]===true){if(!U.content.find(".mfp-close").length){U.content.append(G())}}else{U.content=X}}else{U.content=""}R(P);U.container.addClass("mfp-"+Y+"-holder");U.contentContainer.append(U.content)},parseEl:function(X){var ab=U.items[X],aa=ab.type;if(ab.tagName){ab={el:E(ab)}}else{ab={data:ab,src:ab.src}}if(ab.el){var Z=U.types;for(var Y=0;Y<Z.length;Y++){if(ab.el.hasClass("mfp-"+Z[Y])){aa=Z[Y];break}}ab.src=ab.el.attr("data-mfp-src");if(!ab.src){ab.src=ab.el.attr("href")}}ab.type=aa||U.st.type||"inline";ab.index=X;ab.parsed=true;U.items[X]=ab;R("ElementParse",ab);return U.items[X]},addGroup:function(Z,Y){var aa=function(ab){ab.mfpEl=this;U._openClick(ab,Z,Y)};if(!Y){Y={}}var X="click.magnificPopup";Y.mainEl=Z;if(Y.items){Y.isObj=true;Z.off(X).on(X,aa)}else{Y.isObj=false;if(Y.delegate){Z.off(X).on(X,Y.delegate,aa)}else{Y.items=Z;Z.off(X).on(X,aa)}}},_openClick:function(ab,Z,X){var Y=X.midClick!==undefined?X.midClick:E.magnificPopup.defaults.midClick;if(!Y&&(ab.which===2||ab.ctrlKey||ab.metaKey)){return}var aa=X.disableOn!==undefined?X.disableOn:E.magnificPopup.defaults.disableOn;if(aa){if(E.isFunction(aa)){if(!aa.call(U)){return true}}else{if(a.width()<aa){return true}}}if(ab.type){ab.preventDefault();if(U.isOpen){ab.stopPropagation()}}X.el=E(ab.mfpEl);if(X.delegate){X.items=Z.find(X.delegate)}U.open(X)},updateStatus:function(X,Z){if(U.preloader){if(D!==X){U.container.removeClass("mfp-s-"+D)}if(!Z&&X==="loading"){Z=U.st.tLoading}var Y={status:X,text:Z};R("UpdateStatus",Y);X=Y.status;Z=Y.text;U.preloader.html(Z);U.preloader.find("a").on("click",function(aa){aa.stopImmediatePropagation()});U.container.addClass("mfp-s-"+X);D=X}},_addClassToMFP:function(X){U.bgOverlay.addClass(X);U.wrap.addClass(X)},_removeClassFromMFP:function(X){this.bgOverlay.removeClass(X);U.wrap.removeClass(X)},_hasScrollBar:function(X){return((U.isIE7?C.height():document.body.scrollHeight)>(X||a.height()))},_parseMarkup:function(Z,Y,aa){var X;if(aa.data){Y=E.extend(aa.data,Y)}R(f,[Z,Y,aa]);E.each(Y,function(ac,ae){if(ae===undefined||ae===false){return true}X=ac.split("_");if(X.length>1){var ad=Z.find(d+"-"+X[0]);if(ad.length>0){var ab=X[1];if(ab==="replaceWith"){if(ad[0]!==ae[0]){ad.replaceWith(ae)}}else{if(ab==="img"){if(ad.is("img")){ad.attr("src",ae)}else{ad.replaceWith('<img src="'+ae+'" class="'+ad.attr("class")+'" />')}}else{ad.attr(X[1],ae)}}}}else{Z.find(d+"-"+ac).html(ae)}})},_getScrollbarSize:function(){if(U.scrollbarSize===undefined){var X=document.createElement("div");X.id="mfp-sbm";X.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(X);U.scrollbarSize=X.offsetWidth-X.clientWidth;document.body.removeChild(X)}return U.scrollbarSize}};E.magnificPopup={instance:null,proto:B.prototype,modules:[],open:function(Y,X){u();if(!Y){Y={}}Y.isObj=true;Y.index=X||0;return this.instance.open(Y)},close:function(){return E.magnificPopup.instance.close()},registerModule:function(X,Y){if(Y.options){E.magnificPopup.defaults[X]=Y.options}E.extend(this.proto,Y.proto);this.modules.push(X)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};E.fn.magnificPopup=function(Z){u();var aa=E(this);if(typeof Z==="string"){if(Z==="open"){var X,ab=L?aa.data("magnificPopup"):aa[0].magnificPopup,Y=parseInt(arguments[1],10)||0;if(ab.items){X=ab.items[Y]}else{X=aa;if(ab.delegate){X=X.find(ab.delegate)}X=X.eq(Y)}U._openClick({mfpEl:X},aa,ab)}else{if(U.isOpen){U[Z].apply(U,Array.prototype.slice.call(arguments,1))}}}else{if(L){aa.data("magnificPopup",Z)}else{aa[0].magnificPopup=Z}U.addGroup(aa,Z)}return aa};var I="inline",T,Q,t,m=function(){if(t){Q.after(t.addClass(T)).detach();t=null}};E.magnificPopup.registerModule(I,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){U.types.push(I);j(A+"."+I,function(){m()})},getInline:function(ab,aa){m();if(ab.src){var X=U.st.inline,Z=E(ab.src);if(Z.length){var Y=Z[0].parentNode;if(Y&&Y.tagName){if(!Q){T=X.hiddenClass;Q=o(T);T="mfp-"+T}t=Z.after(Q).detach().removeClass(T)}U.updateStatus("ready")}else{U.updateStatus("error",X.tNotFound);Z=E("<div>")}ab.inlineElement=Z;return Z}U.updateStatus("ready");U._parseMarkup(aa,{},ab);return aa}}});var v="ajax",V,w=function(){if(V){z.removeClass(V)}};E.magnificPopup.registerModule(v,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){U.types.push(v);V=U.st.ajax.cursor;j(A+"."+v,function(){w();if(U.req){U.req.abort()}})},getAjax:function(Y){if(V){z.addClass(V)}U.updateStatus("loading");var X=E.extend({url:Y.src,success:function(ab,ac,aa){var Z={data:ab,xhr:aa};R("ParseAjax",Z);U.appendContent(E(Z.data),v);Y.finished=true;w();i();setTimeout(function(){U.wrap.addClass(K)},16);U.updateStatus("ready");R("AjaxContentAdded")},error:function(){w();Y.finished=Y.loadError=true;U.updateStatus("error",U.st.ajax.tError.replace("%url%",Y.src))}},U.st.ajax.settings);U.req=E.ajax(X);return""}}});var g,c=function(X){if(X.data&&X.data.title!==undefined){return X.data.title}var Y=U.st.image.titleSrc;if(Y){if(E.isFunction(Y)){return Y.call(U,X)}else{if(X.el){return X.el.attr(Y)||""}}}return""};E.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var Y=U.st.image,X=".image";U.types.push("image");j(l+X,function(){if(U.currItem.type==="image"&&Y.cursor){z.addClass(Y.cursor)}});j(A+X,function(){if(Y.cursor){z.removeClass(Y.cursor)}a.off("resize"+d)});j("Resize"+X,U.resizeImage);if(U.isLowIE){j("AfterChange",U.resizeImage)}},resizeImage:function(){var Y=U.currItem;if(!Y.img){return}if(U.st.image.verticalFit){var X=0;if(U.isLowIE){X=parseInt(Y.img.css("padding-top"),10)+parseInt(Y.img.css("padding-bottom"),10)}Y.img.css("max-height",U.wH-X)}},_onImageHasSize:function(X){if(X.img){X.hasSize=true;if(g){clearInterval(g)}X.isCheckingImgSize=false;R("ImageHasSize",X);if(X.imgHidden){if(U.content){U.content.removeClass("mfp-loading")}X.imgHidden=false}}},findImageSize:function(aa){var X=0,Y=aa.img[0],Z=function(ab){if(g){clearInterval(g)}g=setInterval(function(){if(Y.naturalWidth>0){U._onImageHasSize(aa);return}if(X>200){clearInterval(g)}X++;if(X===3){Z(10)}else{if(X===40){Z(50)}else{if(X===100){Z(500)}}}},ab)};Z(1)},getImage:function(ad,aa){var ac=0,ae=function(){if(ad){if(ad.img[0].complete){ad.img.off(".mfploader");if(ad===U.currItem){U._onImageHasSize(ad);U.updateStatus("ready")}ad.hasSize=true;ad.loaded=true;R("ImageLoadComplete")}else{ac++;if(ac<200){setTimeout(ae,100)}else{X()}}}},X=function(){if(ad){ad.img.off(".mfploader");if(ad===U.currItem){U._onImageHasSize(ad);U.updateStatus("error",ab.tError.replace("%url%",ad.src))}ad.hasSize=true;ad.loaded=true;ad.loadError=true}},ab=U.st.image;var Z=aa.find(".mfp-img");if(Z.length){var Y=new Image();Y.className="mfp-img";ad.img=E(Y).on("load.mfploader",ae).on("error.mfploader",X);Y.src=ad.src;if(Z.is("img")){ad.img=ad.img.clone()}if(ad.img[0].naturalWidth>0){ad.hasSize=true}}U._parseMarkup(aa,{title:c(ad),img_replaceWith:ad.img},ad);U.resizeImage();if(ad.hasSize){if(g){clearInterval(g)}if(ad.loadError){aa.addClass("mfp-loading");U.updateStatus("error",ab.tError.replace("%url%",ad.src))}else{aa.removeClass("mfp-loading");U.updateStatus("ready")}return aa}U.updateStatus("loading");ad.loading=true;if(!ad.hasSize){ad.imgHidden=true;aa.addClass("mfp-loading");U.findImageSize(ad)}return aa}}});var k,O=function(){if(k===undefined){k=document.createElement("p").style.MozTransform!==undefined}return k};E.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(X){return X.is("img")?X:X.find("img")}},proto:{initZoom:function(){var Y=U.st.zoom,ab=".zoom";if(!Y.enabled||!U.supportsTransition){return}var ad=Y.duration,ac=function(ag){var af=ag.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),ah="all "+(Y.duration/1000)+"s "+Y.easing,ai={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ae="transition";ai["-webkit-"+ae]=ai["-moz-"+ae]=ai["-o-"+ae]=ai[ae]=ah;af.css(ai);return af},X=function(){U.content.css("visibility","visible")},Z,aa;j("BuildControls"+ab,function(){if(U._allowZoom()){clearTimeout(Z);U.content.css("visibility","hidden");image=U._getItemToZoom();if(!image){X();return}aa=ac(image);aa.css(U._getOffset());U.wrap.append(aa);Z=setTimeout(function(){aa.css(U._getOffset(true));Z=setTimeout(function(){X();setTimeout(function(){aa.remove();image=aa=null;R("ZoomAnimationEnded")},16)},ad)},16)}});j(J+ab,function(){if(U._allowZoom()){clearTimeout(Z);U.st.removalDelay=ad;if(!image){image=U._getItemToZoom();if(!image){return}aa=ac(image)}aa.css(U._getOffset(true));U.wrap.append(aa);U.content.css("visibility","hidden");setTimeout(function(){aa.css(U._getOffset())},16)}});j(A+ab,function(){if(U._allowZoom()){X();if(aa){aa.remove()}}})},_allowZoom:function(){return U.currItem.type==="image"},_getItemToZoom:function(){if(U.currItem.hasSize){return U.currItem.img}else{return false}},_getOffset:function(Z){var X;if(Z){X=U.currItem.img}else{X=U.st.zoom.opener(U.currItem.el||U.currItem)}var ac=X.offset();var Y=parseInt(X.css("padding-top"),10);var ab=parseInt(X.css("padding-bottom"),10);ac.top-=(E(window).scrollTop()-Y);var aa={width:X.width(),height:(L?X.innerHeight():X[0].offsetHeight)-ab-Y};if(O()){aa["-moz-transform"]=aa.transform="translate("+ac.left+"px,"+ac.top+"px)"}else{aa.left=ac.left;aa.top=ac.top}return aa}}});var s="iframe",r="//about:blank",S=function(X){if(U.currTemplate[s]){var Y=U.currTemplate[s].find("iframe");if(Y.length){if(!X){Y[0].src=r}if(U.isIE8){Y.css("display",X?"block":"none")}}}};E.magnificPopup.registerModule(s,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){U.types.push(s);j("BeforeChange",function(Z,X,Y){if(X!==Y){if(X===s){S()}else{if(Y===s){S(true)}}}});j(A+"."+s,function(){S()})},getIframe:function(ab,aa){var X=ab.src;var Z=U.st.iframe;E.each(Z.patterns,function(){if(X.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){X=X.substr(X.lastIndexOf(this.id)+this.id.length,X.length)}else{X=this.id.call(this,X)}}X=this.src.replace("%id%",X);return false}});var Y={};if(Z.srcAction){Y[Z.srcAction]=X}U._parseMarkup(aa,Y,ab);U.updateStatus("ready");return aa}}});var y=function(X){var Y=U.items.length;if(X>Y-1){return X-Y}else{if(X<0){return Y+X}}return X},q=function(Z,Y,X){return Z.replace("%curr%",Y+1).replace("%total%",X)};E.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var X=U.st.gallery,Z=".mfp-gallery",Y=Boolean(E.fn.mfpFastClick);U.direction=true;if(!X||!X.enabled){return false}b+=" mfp-gallery";j(l+Z,function(){if(X.navigateByImgClick){U.wrap.on("click"+Z,".mfp-img",function(){if(U.items.length>1){U.next();return false}})}C.on("keydown"+Z,function(aa){if(aa.keyCode===37){U.prev()}else{if(aa.keyCode===39){U.next()}}})});j("UpdateStatus"+Z,function(ab,aa){if(aa.text){aa.text=q(aa.text,U.currItem.index,U.items.length)}});j(f+Z,function(ae,ac,ab,ad){var aa=U.items.length;ab.counter=aa>1?q(X.tCounter,ad.index,aa):""});j("BuildControls"+Z,function(){if(U.items.length>1&&X.arrows&&!U.arrowLeft){var ac=X.arrowMarkup,ad=U.arrowLeft=E(ac.replace("%title%",X.tPrev).replace("%dir%","left")).addClass(e),ab=U.arrowRight=E(ac.replace("%title%",X.tNext).replace("%dir%","right")).addClass(e);var aa=Y?"mfpFastClick":"click";ad[aa](function(){U.prev()});ab[aa](function(){U.next()});if(U.isIE7){o("b",ad[0],false,true);o("a",ad[0],false,true);o("b",ab[0],false,true);o("a",ab[0],false,true)}U.container.append(ad.add(ab))}});j(h+Z,function(){if(U._preloadTimeout){clearTimeout(U._preloadTimeout)}U._preloadTimeout=setTimeout(function(){U.preloadNearbyImages();U._preloadTimeout=null},16)});j(A+Z,function(){C.off(Z);U.wrap.off("click"+Z);if(U.arrowLeft&&Y){U.arrowLeft.add(U.arrowRight).destroyMfpFastClick()}U.arrowRight=U.arrowLeft=null})},next:function(){U.direction=true;U.index=y(U.index+1);U.updateItemHTML()},prev:function(){U.direction=false;U.index=y(U.index-1);U.updateItemHTML()},goTo:function(X){U.direction=(X>=U.index);U.index=X;U.updateItemHTML()},preloadNearbyImages:function(){var aa=U.st.gallery.preload,Y=Math.min(aa[0],U.items.length),Z=Math.min(aa[1],U.items.length),X;for(X=1;X<=(U.direction?Z:Y);X++){U._preloadItem(U.index+X)}for(X=1;X<=(U.direction?Y:Z);X++){U._preloadItem(U.index-X)}},_preloadItem:function(X){X=y(X);if(U.items[X].preloaded){return}var Y=U.items[X];if(!Y.parsed){Y=U.parseEl(X)}R("LazyLoad",Y);if(Y.type==="image"){Y.img=E('<img class="mfp-img" />').on("load.mfploader",function(){Y.hasSize=true}).on("error.mfploader",function(){Y.hasSize=true;Y.loadError=true;R("LazyLoadError",Y)}).attr("src",Y.src)}Y.preloaded=true}}});var n="retina";E.magnificPopup.registerModule(n,{options:{replaceSrc:function(X){return X.src.replace(/\.\w+$/,function(Y){return"@2x"+Y})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var X=U.st.retina,Y=X.ratio;Y=!isNaN(Y)?Y:Y();if(Y>1){j("ImageHasSize."+n,function(aa,Z){Z.img.css({"max-width":Z.img[0].naturalWidth/Y,width:"100%"})});j("ElementParse."+n,function(aa,Z){Z.src=X.replaceSrc(Z,Y)})}}}}});(function(){var Y=1000,aa="ontouchstart" in window,ab=function(){a.off("touchmove"+Z+" touchend"+Z)},X="mfpFastClick",Z="."+X;E.fn.mfpFastClick=function(ac){return E(this).each(function(){var aj=E(this),ai;if(aa){var ak,af,ae,ah,ad,ag;aj.on("touchstart"+Z,function(al){ah=false;ag=1;ad=al.originalEvent?al.originalEvent.touches[0]:al.touches[0];af=ad.clientX;ae=ad.clientY;a.on("touchmove"+Z,function(am){ad=am.originalEvent?am.originalEvent.touches:am.touches;ag=ad.length;ad=ad[0];if(Math.abs(ad.clientX-af)>10||Math.abs(ad.clientY-ae)>10){ah=true;ab()}}).on("touchend"+Z,function(am){ab();if(ah||ag>1){return}ai=true;am.preventDefault();clearTimeout(ak);ak=setTimeout(function(){ai=false},Y);ac()})})}aj.on("click"+Z,function(){if(!ai){ac()}})})};E.fn.destroyMfpFastClick=function(){E(this).off("touchstart"+Z+" click"+Z);if(aa){a.off("touchmove"+Z+" touchend"+Z)}}})()})(window.jQuery||window.Zepto);
/*! Plugin options and other jQuery stuff */
;$(function(){$("article").fitVids()});$(function(){$(".toc h3").click(function(){$("#drawer").toggleClass("hidden")})});$("a[href$='.jpg'],a[href$='.png'],a[href$='.gif']").addClass("image-popup");$(document).ready(function(){$(".image-popup").magnificPopup({type:"image",tLoading:"Loading image #%curr%...",gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},image:{tError:'<a href="%url%">Image #%curr%</a> could not be loaded.'},removalDelay:300,mainClass:"mfp-fade"})});
/*!
* Simple Jekyll Search
* Christian Fei - https://github.com/christian-fei/Simple-Jekyll-Search *
*
*/
(function(a){a.fn.simpleJekyllSearch=function(k){var c=a.extend({jsonFile:"/search.json",jsonFormat:"title,category,desc,url,date,shortdate",template:'<a href="{url}" title="{title}">{title}</a>',searchResults:".results",searchResultsTitle:"<h4>Search results</h4>",limit:"10",noResults:"<p>Oh shucks<br/><small>Nothing found :(</small></p>"},k);var f=c.jsonFormat.split(",");var i=[],d=this,b=a(c.searchResults);if(c.jsonFile.length&&b.length){a.ajax({type:"GET",url:c.jsonFile,dataType:"json",success:function(m,n,l){i=m;g()},error:function(l,n,m){console.log("***ERROR in simpleJekyllSearch.js***");console.log(l);console.log(n);console.log(m)}})}function g(){d.keyup(function(l){if(a(this).val().length){h(j(a(this).val()))}else{e()}})}function j(m){var l=[];a.each(i,function(n,o){for(var n=0;n<f.length;n++){if(o[f[n]]!==undefined&&o[f[n]].toLowerCase().indexOf(m.toLowerCase())>1){l.push(o);n=f.length}}});return l}function h(l){e();b.append(a(c.searchResultsTitle));if(l.length){a.each(l,function(n,p){if(n<c.limit){var m=c.template;for(var n=0;n<f.length;n++){var o=new RegExp("{"+f[n]+"}","g");m=m.replace(o,p[f[n]])}b.append(a(m))}})}else{b.append(c.noResults)}}function e(){b.children().remove()}}}(jQuery));(function(){var a=[].indexOf||function(c){for(var d=0,f=this.length;d<f;d++){if(d in this&&this[d]===c){return d}}return -1},b=[].slice;(function(c,d){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(e){return d(e,c)})}else{return d(c.jQuery,c)}})(this,function(B,x){var E,A,D,t,H,q,K,J,F,I,z,e,k,j,G,C;E=B(x);J=a.call(x,"ontouchstart")>=0;t={horizontal:{},vertical:{}};H=1;K={};q="waypoints-context-id";z="resize.waypoints";e="scroll.waypoints";k=1;j="waypoints-waypoint-ids";G="waypoint";C="waypoints";A=function(){function c(d){var f=this;this.$element=d;this.element=d[0];this.didResize=false;this.didScroll=false;this.id="context"+H++;this.oldScroll={x:d.scrollLeft(),y:d.scrollTop()};this.waypoints={horizontal:{},vertical:{}};d.data(q,this.id);K[this.id]=this;d.bind(e,function(){var g;if(!(f.didScroll||J)){f.didScroll=true;g=function(){f.doScroll();return f.didScroll=false};return x.setTimeout(g,B[C].settings.scrollThrottle)}});d.bind(z,function(){var g;if(!f.didResize){f.didResize=true;g=function(){B[C]("refresh");return f.didResize=false};return x.setTimeout(g,B[C].settings.resizeThrottle)}})}c.prototype.doScroll=function(){var d,f=this;d={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(J&&(!d.vertical.oldScroll||!d.vertical.newScroll)){B[C]("refresh")}B.each(d,function(m,n){var h,p,g;g=[];p=n.newScroll>n.oldScroll;h=p?n.forward:n.backward;B.each(f.waypoints[m],function(o,r){var s,l;if(n.oldScroll<(s=r.offset)&&s<=n.newScroll){return g.push(r)}else{if(n.newScroll<(l=r.offset)&&l<=n.oldScroll){return g.push(r)}}});g.sort(function(i,l){return i.offset-l.offset});if(!p){g.reverse()}return B.each(g,function(i,l){if(l.options.continuous||i===g.length-1){return l.trigger([h])}})});return this.oldScroll={x:d.horizontal.newScroll,y:d.vertical.newScroll}};c.prototype.refresh=function(){var f,h,g,d=this;g=B.isWindow(this.element);h=this.$element.offset();this.doScroll();f={horizontal:{contextOffset:g?0:h.left,contextScroll:g?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:g?0:h.top,contextScroll:g?0:this.oldScroll.y,contextDimension:g?B[C]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return B.each(f,function(i,l){return B.each(d.waypoints[i],function(p,v){var n,y,m,u,w;n=v.options.offset;m=v.offset;y=B.isWindow(v.element)?0:v.$element.offset()[l.offsetProp];if(B.isFunction(n)){n=n.apply(v.element)}else{if(typeof n==="string"){n=parseFloat(n);if(v.options.offset.indexOf("%")>-1){n=Math.ceil(l.contextDimension*n/100)}}}v.offset=y-l.contextOffset+l.contextScroll-n;if(v.options.onlyOnScroll&&m!=null||!v.enabled){return}if(m!==null&&m<(u=l.oldScroll)&&u<=v.offset){return v.trigger([l.backward])}else{if(m!==null&&m>(w=l.oldScroll)&&w>=v.offset){return v.trigger([l.forward])}else{if(m===null&&l.oldScroll>=v.offset){return v.trigger([l.forward])}}}})})};c.prototype.checkEmpty=function(){if(B.isEmptyObject(this.waypoints.horizontal)&&B.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([z,e].join(" "));return delete K[this.id]}};return c}();D=function(){function c(f,h,g){var d,l;g=B.extend({},B.fn[G].defaults,g);if(g.offset==="bottom-in-view"){g.offset=function(){var i;i=B[C]("viewportHeight");if(!B.isWindow(h.element)){i=h.$element.height()}return i-B(this).outerHeight()}}this.$element=f;this.element=f[0];this.axis=g.horizontal?"horizontal":"vertical";this.callback=g.handler;this.context=h;this.enabled=g.enabled;this.id="waypoints"+k++;this.offset=null;this.options=g;h.waypoints[this.axis][this.id]=this;t[this.axis][this.id]=this;d=(l=f.data(j))!=null?l:[];d.push(this.id);f.data(j,d)}c.prototype.trigger=function(d){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,d)}if(this.options.triggerOnce){return this.destroy()}};c.prototype.disable=function(){return this.enabled=false};c.prototype.enable=function(){this.context.refresh();return this.enabled=true};c.prototype.destroy=function(){delete t[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};c.getWaypointsByElement=function(d){var g,f;f=B(d).data(j);if(!f){return[]}g=B.extend({},t.horizontal,t.vertical);return B.map(f,function(h){return g[h]})};return c}();I={init:function(c,f){var d;if(f==null){f={}}if((d=f.handler)==null){f.handler=c}this.each(function(){var h,m,g,l;h=B(this);g=(l=f.context)!=null?l:B.fn[G].defaults.context;if(!B.isWindow(g)){g=h.closest(g)}g=B(g);m=K[g.data(q)];if(!m){m=new A(g)}return new D(h,m,f)});B[C]("refresh");return this},disable:function(){return I._invoke(this,"disable")},enable:function(){return I._invoke(this,"enable")},destroy:function(){return I._invoke(this,"destroy")},prev:function(c,d){return I._traverse.call(this,c,d,function(f,g,h){if(g>0){return f.push(h[g-1])}})},next:function(c,d){return I._traverse.call(this,c,d,function(f,g,h){if(g<h.length-1){return f.push(h[g+1])}})},_traverse:function(f,g,d){var h,c;if(f==null){f="vertical"}if(g==null){g=x}c=F.aggregate(g);h=[];this.each(function(){var i;i=B.inArray(this,c[f]);return d(h,i,c[f])});return this.pushStack(h)},_invoke:function(c,d){c.each(function(){var f;f=D.getWaypointsByElement(this);return B.each(f,function(g,h){h[d]();return true})});return this}};B.fn[G]=function(){var c,d;d=arguments[0],c=2<=arguments.length?b.call(arguments,1):[];if(I[d]){return I[d].apply(this,c)}else{if(B.isFunction(d)){return I.init.apply(this,arguments)}else{if(B.isPlainObject(d)){return I.init.apply(this,[null,d])}else{if(!d){return B.error("jQuery Waypoints needs a callback function or handler option.")}else{return B.error("The "+d+" method does not exist in jQuery Waypoints.")}}}}};B.fn[G].defaults={context:x,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};F={refresh:function(){return B.each(K,function(c,d){return d.refresh()})},viewportHeight:function(){var c;return(c=x.innerHeight)!=null?c:E.height()},aggregate:function(d){var g,f,c;g=t;if(d){g=(c=K[B(d).data(q)])!=null?c.waypoints:void 0}if(!g){return[]}f={horizontal:[],vertical:[]};B.each(f,function(l,h){B.each(g[l],function(i,m){return h.push(m)});h.sort(function(i,m){return i.offset-m.offset});f[l]=B.map(h,function(i){return i.element});return f[l]=B.unique(f[l])});return f},above:function(c){if(c==null){c=x}return F._filter(c,"vertical",function(d,f){return f.offset<=d.oldScroll.y})},below:function(c){if(c==null){c=x}return F._filter(c,"vertical",function(d,f){return f.offset>d.oldScroll.y})},left:function(c){if(c==null){c=x}return F._filter(c,"horizontal",function(d,f){return f.offset<=d.oldScroll.x})},right:function(c){if(c==null){c=x}return F._filter(c,"horizontal",function(d,f){return f.offset>d.oldScroll.x})},enable:function(){return F._invoke("enable")},disable:function(){return F._invoke("disable")},destroy:function(){return F._invoke("destroy")},extendFn:function(c,d){return I[c]=d},_invoke:function(c){var d;d=B.extend({},t.vertical,t.horizontal);return B.each(d,function(f,g){g[c]();return true})},_filter:function(d,g,f){var c,h;c=K[B(d).data(q)];if(!c){return[]}h=[];B.each(c.waypoints[g],function(i,l){if(f(c,l)){return h.push(l)}});h.sort(function(i,l){return i.offset-l.offset});return B.map(h,function(i){return i.element})}};B[C]=function(){var c,d;d=arguments[0],c=2<=arguments.length?b.call(arguments,1):[];if(F[d]){return F[d].apply(null,c)}else{return F.aggregate.call(null,d)}};B[C].settings={resizeThrottle:100,scrollThrottle:30};return E.load(function(){return B[C]("refresh")})})}).call(this);+function(e){var d=function(g,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",g,c)};d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},d.prototype.init=function(a,p,o){this.enabled=!0,this.type=a,this.$element=e(p),this.options=this.getOptions(o);for(var n=this.options.trigger.split(" "),m=n.length;m--;){var l=n[m];if("click"==l){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else{if("manual"!=l){var k="hover"==l?"mouseenter":"focus",j="hover"==l?"mouseleave":"blur";this.$element.on(k+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(j+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.getOptions=function(a){return a=e.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},d.prototype.getDelegateOptions=function(){var a={},g=this.getDefaults();return this._options&&e.each(this._options,function(b,c){g[b]!=c&&(a[b]=c)}),a},d.prototype.enter=function(a){var g=a instanceof this.constructor?a:e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.hoverState="in",g.options.delay&&g.options.delay.show?(g.timeout=setTimeout(function(){"in"==g.hoverState&&g.show()},g.options.delay.show),void 0):g.show()},d.prototype.leave=function(a){var g=a instanceof this.constructor?a:e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.hoverState="out",g.options.delay&&g.options.delay.hide?(g.timeout=setTimeout(function(){"out"==g.hoverState&&g.hide()},g.options.delay.hide),void 0):g.hide()},d.prototype.show=function(){var D=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(D),D.isDefaultPrevented()){return}var C=this.tip();this.setContent(),this.options.animation&&C.addClass("fade");var B="function"==typeof this.options.placement?this.options.placement.call(this,C[0],this.$element[0]):this.options.placement,A=/\s?auto?\s?/i,z=A.test(B);z&&(B=B.replace(A,"")||"top"),C.detach().css({top:0,left:0,display:"block"}).addClass(B),this.options.container?C.appendTo(this.options.container):C.insertAfter(this.$element);var y=this.getPosition(),x=C[0].offsetWidth,w=C[0].offsetHeight;if(z){var v=this.$element.parent(),u=B,t=document.documentElement.scrollTop||document.body.scrollTop,s="body"==this.options.container?window.innerWidth:v.outerWidth(),r="body"==this.options.container?window.innerHeight:v.outerHeight(),q="body"==this.options.container?0:v.offset().left;B="bottom"==B&&y.top+y.height+w-t>r?"top":"top"==B&&y.top-t-w<0?"bottom":"right"==B&&y.right+x>s?"left":"left"==B&&y.left-x<q?"right":B,C.removeClass(u).addClass(B)}var a=this.getCalculatedOffset(B,y,x,w);this.applyPlacement(a,B),this.$element.trigger("shown.bs."+this.type)}},d.prototype.applyPlacement=function(v,u){var t,s=this.tip(),r=s[0].offsetWidth,q=s[0].offsetHeight,p=parseInt(s.css("margin-top"),10),o=parseInt(s.css("margin-left"),10);isNaN(p)&&(p=0),isNaN(o)&&(o=0),v.top=v.top+p,v.left=v.left+o,s.offset(v).addClass("in");var n=s[0].offsetWidth,m=s[0].offsetHeight;if("top"==u&&m!=q&&(t=!0,v.top=v.top+q-m),/bottom|top/.test(u)){var l=0;v.left<0&&(l=-2*v.left,v.left=0,s.offset(v),n=s[0].offsetWidth,m=s[0].offsetHeight),this.replaceArrow(l-r+n,n,"left")}else{this.replaceArrow(m-q,m,"top")}t&&s.offset(v)},d.prototype.replaceArrow=function(h,g,i){this.arrow().css(i,h?50*(1-h/g)+"%":"")},d.prototype.setContent=function(){var g=this.tip(),c=this.getTitle();g.find(".tooltip-inner")[this.options.html?"html":"text"](c),g.removeClass("fade in top bottom left right")},d.prototype.hide=function(){function g(){"in"!=a.hoverState&&i.detach()}var a=this,i=this.tip(),h=e.Event("hide.bs."+this.type);return this.$element.trigger(h),h.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,g).emulateTransitionEnd(150):g(),this.$element.trigger("hidden.bs."+this.type),this)},d.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},d.prototype.hasContent=function(){return this.getTitle()},d.prototype.getPosition=function(){var a=this.$element[0];return e.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},d.prototype.getCalculatedOffset=function(h,g,j,i){return"bottom"==h?{top:g.top+g.height,left:g.left+g.width/2-j/2}:"top"==h?{top:g.top-i,left:g.left+g.width/2-j/2}:"left"==h?{top:g.top+g.height/2-i/2,left:g.left-j}:{top:g.top+g.height/2-i/2,left:g.left+g.width}},d.prototype.getTitle=function(){var h,g=this.$element,i=this.options;return h=g.attr("data-original-title")||("function"==typeof i.title?i.title.call(g[0]):i.title)},d.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},d.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},d.prototype.enable=function(){this.enabled=!0},d.prototype.disable=function(){this.enabled=!1},d.prototype.toggleEnabled=function(){this.enabled=!this.enabled},d.prototype.toggle=function(a){var g=a?e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;g.tip().hasClass("in")?g.leave(g):g.enter(g)},d.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=e.fn.tooltip;e.fn.tooltip=function(a){return this.each(function(){var g=e(this),c=g.data("bs.tooltip"),b="object"==typeof a&&a;c||g.data("bs.tooltip",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.tooltip.Constructor=d,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=f,this}}(window.jQuery);(function(c){c(document).ready(function(){d();a();b()});function b(){c("#masthead").waypoint(function(e){c(this).addClass("animation-on")});c("#main").waypoint(function(e){c("#masthead").toggleClass("animation-on")});c("#footer").waypoint(function(e){c(this).toggleClass("animation-on")},{offset:"bottom-in-view"})}function d(){c("[data-toggle]").tooltip()}function a(){c(".post-body p:first-child").addClass("lead");var e=c(".featured-image").find("img").attr("src");if(e){c("#masthead").css("backgroundImage","url("+e+")");c("#footer").css("backgroundImage","url("+e+")")}}}(jQuery));